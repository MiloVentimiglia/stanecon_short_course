{
    "collab_server" : "",
    "contents" : "data {\n  int polls; // number of polls\n  int T; // number of days\n  matrix[T, polls] Y; // polls\n  matrix[T, polls] sigma; // polls standard deviations\n  real initial_prior;\n}\nparameters {\n  vector[T] mu; // the mean of the polls\n  real<lower = 0> tau; // the standard deviation of the random effects\n  matrix[T, polls] shrunken_polls;\n}\nmodel {\n  // prior on initial difference\n  mu[1] ~ normal(initial_prior, 1);\n  tau ~ student_t(4, 0, 5);\n  // state model\n  for(t in 2:T) {\n    mu[t] ~ normal(mu[t-1], 0.25);\n  }\n  \n  // measurement model\n  for(t in 1:T) {\n    for(p in 1:polls) {\n      if(Y[t, p] != -9) {\n        Y[t,p]~ normal(shrunken_polls[t, p], sigma[t,p]);\n        shrunken_polls[t, p] ~ normal(mu[t], tau);\n      } else {\n        shrunken_polls[t, p] ~ normal(0, 1);\n      }\n    }\n  }\n}",
    "created" : 1484916326811.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3323694994",
    "id" : "19A7BB0A",
    "lastKnownWriteTime" : 1470418483,
    "last_content_update" : 1470418483,
    "path" : "~/Documents/state_space_polls/state_space_polls.stan",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 6,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "stan"
}